{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n// У файлі pixabay-api.js зберігай функції для HTTP-запитів.\n\nconst hits = {\n  q: \"\", image_type: \"photo\" , orientation: \"horizontal\", safesearch: true\n}\n\nconst API_KEY = \"44760113-b733d2f51a4c6409aa3483a05\";\n// fetch(`https://pixabay.com/api/?key=${API_KEY}`)\n\nexport function getImage() {\n  return fetch(`https://pixabay.com/api/?key=${API_KEY}&hits=q`).then(response => { \n      console.log(response); // приходить вiд серверу в вигл обекта РЕСПОНС - response\n      if (!response.ok) {\n        throw new Error(response.status); // перевiрка в разi помилки 404 щоб пропустила в catch\n      }\n      return response.json(); // виклкикаеттся на обект i повертае promis\n    }\n    );\n    }\n\n","\n//У розмітці необхідно буде обгорнути кожну картку зображення в посилання, як зазначено в документації в секції «Markup».\n//Бібліотека містить метод [refresh()](<https://github.com/andreknieriem/simplelightbox#public-methods>), який обов'язково потрібно викликати щоразу після додавання нових елементів до галереї.\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nfunction newUrl(str) {\n    const BaSe_URL =\"https://pixabay.com/api/\";\n    const Me_KEY = \"44760113-b733d2f51a4c6409aa3483a05\";\n    const imageType = 'photo';\n    const orientat = \"horizontal\";\n    const safesearch = true;\n    const urlRaqeuestes = `${BaSe_URL}?key=${Me_KEY}&q=${str}&image_type${imageType}&orientation=${orientat}&safesearch=${safesearch}`\n    return fetch(urlRaqeuestes).then(response => { \n        console.log(response); \n        if (!response.ok) {\n          throw new Error(response.status); \n        }\n        return response.json(); // виклкикається на обєкт і повертае Promis\n      }\n      );}\n\n    export {newUrl};\n\nconst hits = {\n    q: \"\", image_type: \"photo\" , orientation: \"horizontal\", safesearch: true, name: \"\"\n   } \n  \nfunction fechPhoto(hits) {\n    return fetch(`https://pixabay.com/api/?key=${newUrl.Me_KEY}&${newUrl.q}`).then(response => { \n        console.log(response); \n        if (!response.ok) {\n          throw new Error(response.status); \n        }\n        return response.json(); // виклкикаеттся на обект, повертае Promes\n      }\n      );\n}\n//fechPhoto(q).then(console.log)\nexport {fechPhoto};\n//  initialSelector = null;\n//  this.initialSelector = elements;\n\nconst formSearchImage = document.querySelector('.uzers-form-image');\nformSearchImage.addEventListener('submit', handlerSearch);\n\nfunction handlerSearch(event) {\n       event.preventDefault();\n       const form = event.currentTarget; // посилання на елемент форми\n       const photQueryValue = form.elements.query.value.toLowerCase(); //значення яке написав користувач\n\n       fechPhoto(photQueryValue) // робимо запит на сервер та отримуємо відповідь\n       .then(creatMarGallery)   // запускаємо функцію яка відмалюовує карточки\n       .catch(handlerInput)  // первіряємо на помилки та видаємо повідомлення якщо такого не існує (404) Показати message: `Sorry\n       .finally(() => form.reset()); //очистка данних форми після закінчення промісу(очистка тексту в інпуті)\n}\n\nexport {handlerSearch};\n\nconst parameters = {\n    webformatURL: \"\",        \n    largeImageURL: \"\",\n    tags : \"alt\",\n    views: 1,\n    downloads: 1,\n    likes: 1,\n    comments: 1,\n        user_id: 1,\n        user: \"\",\n};\n//function creatMarGallery(parameters, hits ) \nconst galleryContainer = document.querySelector('.gallery');\n   function creatMarGallery({views, downloads, likes, comments, webformatURL, tags, largeImageURL, hits}) \n  {\n    const hitsList = hits\n    .map(({image}) =>  `<li class=\"list-group-new\">${image.name}</li>` )\n      .join(\"\");\n      const markupHtml = ` \n    <li class=\"gallery-item\">\n    <p>${image.views}</p>\n    <p>${image.downloads}</p>\n    <p>${image.likes}</p>\n    <p>${image.comments}</p>\n<div class=\"gallery\">\"${hitsList}\"\n    <a class=\"gallery-link\" href=\"images/&${image.webformatURL}\">\n    <img class=\"gallery-image\" src=\"images/thumbs/&${image.orientat}\" alt=\"${image.tags}\" title=\"${image.name}\"/></a>\n    <a class=\"gallery-link\" href=\"images/&${image.largeImageURL}\">\n    <img class=\"gallery-image\" src=\"images/thumbs/&${image.orientat}\" alt=\"\" title=\"${image.tags}\"/></a>\n</div>\n</li> `\ngalleryContainer.innerHTML = markupHtml;\nrefresh()\n  };\n// initialSelector = null;\n// this.initialSelector = elements;\n// refresh() {\n//   if (!this.initialSelector) {\n//       throw 'refreshing only works when you initialize using a selector!';\n//   }\n//   let options = this.options,\n//       selector = this.initialSelector;\n//   this.destroy();\n//   this.constructor(selector, options);\n//   return this;\n// }\n// export default SimpleLightbox;\n \nconst forms = document.querySelector('.uzers-form-image'); //  функція прослуховує на значення введене Юзером\nforms.addEventListener('input', handlerInput );\nfunction handlerInput(event) {\n    event.preventDefault();\nif (!photQueryValue === safesearch) // Показати message: `Sorry, використати приклад якщо не знаходиться така назва в бібліотеці pixabay\n  {\n    iziToast.error({\n        title: 'Error',\n        message: `Sorry, there are no images matching your search query. Please try again!`\n    })\n  }};\n    \n//  export {handlerInput};\n\n var lightbox = new SimpleLightbox('.gallery a', { captionDelay: 250, captionsData: 'alt'  });\n\n// проста функція виклика повідомлення про помилку без перевірки\n//  function fechGallery(error) {\n//   iziToast.error({title: 'Error', \n//     message: `Sorry, there are no images matching your search query. Please try again!`})\n//  }\n\n\n\n\n\n\n\n\n\n\n\n\n","\nimport {getImage} from \"./js/pixabay-api\"\ngetImage().then((data) => console.log(data))\n\nimport {newUrl} from \"./js/render-functions\"\nnewUrl().then((dat) => console.log(dat))\n\nimport {fechPhoto} from \"./js/render-functions\"\nfechPhoto().then((photo) => console.log(photo))\n\nimport {handlerSearch} from \"./js/render-functions\"\nhandlerSearch().then((photos) => console.log(photos))\n\n// import {creatMarGallery} from \"./js/render-functions\"\n// creatMarGallery().then((dat) => console.log(dat))\n\n\n"],"names":["API_KEY","getImage","response","newUrl","str","urlRaqeuestes","fechPhoto","hits","formSearchImage","handlerSearch","event","form","creatMarGallery","handlerInput","galleryContainer","views","downloads","likes","comments","webformatURL","tags","largeImageURL","hitsList","image","markupHtml","forms","iziToast","SimpleLightbox","data","dat","photo","photos"],"mappings":"6vBAOA,MAAMA,EAAU,qCAGT,SAASC,GAAW,CACzB,OAAO,MAAM,gCAAgCD,CAAO,SAAS,EAAE,KAAKE,GAAY,CAE5E,GADA,QAAQ,IAAIA,CAAQ,EAChB,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACL,CACA,CCXA,SAASC,EAAOC,EAAK,CAMjB,MAAMC,EAAgB,qEAA+BD,CAAG,sDAA8D,EAAU,GAChI,OAAO,MAAMC,CAAa,EAAE,KAAKH,GAAY,CAEzC,GADA,QAAQ,IAAIA,CAAQ,EAChB,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACP,CAAQ,CAQR,SAASI,EAAUC,EAAM,CACrB,OAAO,MAAM,gCAAgCJ,EAAO,MAAM,IAAIA,EAAO,CAAC,EAAE,EAAE,KAAKD,GAAY,CAEvF,GADA,QAAQ,IAAIA,CAAQ,EAChB,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACP,CACA,CAMA,MAAMM,EAAkB,SAAS,cAAc,mBAAmB,EAClEA,EAAgB,iBAAiB,SAAUC,CAAa,EAExD,SAASA,EAAcC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACIC,EAAK,SAAS,MAAM,MAAM,YAAc,EAE/DL,EAAwB,EACvB,KAAKM,CAAe,EACpB,MAAMC,CAAY,EAClB,QAAQ,IAAMF,EAAK,MAAK,CAAE,CAClC,CAgBA,MAAMG,EAAmB,SAAS,cAAc,UAAU,EACvD,SAASF,EAAgB,CAAC,MAAAG,EAAO,UAAAC,EAAW,MAAAC,EAAO,SAAAC,EAAU,aAAAC,EAAc,KAAAC,EAAM,cAAAC,EAAe,KAAAd,CAAI,EACrG,CACE,MAAMe,EAAWf,EAChB,IAAI,CAAC,CAAC,MAAAgB,CAAK,IAAO,8BAA8BA,EAAM,IAAI,OAAS,EACjE,KAAK,EAAE,EACFC,EAAa;AAAA;AAAA,SAEhB,MAAM,KAAK;AAAA,SACX,MAAM,SAAS;AAAA,SACf,MAAM,KAAK;AAAA,SACX,MAAM,QAAQ;AAAA,wBACCF,CAAQ;AAAA,4CACY,MAAM,YAAY;AAAA,qDACT,MAAM,QAAQ,UAAU,MAAM,IAAI,YAAY,MAAM,IAAI;AAAA,4CACjE,MAAM,aAAa;AAAA,qDACV,MAAM,QAAQ,mBAAmB,MAAM,IAAI;AAAA;AAAA,QAGhGR,EAAiB,UAAYU,EAC7B,QAAS,CAET,CAcA,MAAMC,EAAQ,SAAS,cAAc,mBAAmB,EACxDA,EAAM,iBAAiB,QAASZ,GAChC,SAASA,EAAaH,EAAO,CACzBA,EAAM,eAAc,EACpB,CAAC,iBAAmB,YAEpBgB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACjB,CAAK,CACF,CAIa,IAAIC,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,MAAQ,ECzH5F1B,EAAU,EAAC,KAAM2B,GAAS,QAAQ,IAAIA,CAAI,CAAC,EAG3CzB,EAAQ,EAAC,KAAM0B,GAAQ,QAAQ,IAAIA,CAAG,CAAC,EAGvCvB,EAAW,EAAC,KAAMwB,GAAU,QAAQ,IAAIA,CAAK,CAAC,EAG9CrB,EAAe,EAAC,KAAMsB,GAAW,QAAQ,IAAIA,CAAM,CAAC"}